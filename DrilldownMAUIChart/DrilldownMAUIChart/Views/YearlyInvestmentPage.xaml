<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:chart="clr-namespace:Syncfusion.Maui.Toolkit.Charts;assembly=Syncfusion.Maui.Toolkit"
             x:Class="DrilldownMAUIChart.YearlyInvestmentPage">

    <ContentPage.Resources>
        <x:String x:Key="HeaderIconPath">M3.2999878,20.999992 L3.2999878,31.099993 0,31.099993 0,24.300009z 
                                    M7.4000244,16.900018 L7.4000244,31.099993 4.0999756,31.099993 4.0999756,20.30001z 
                                    M16.400024,16.499994 L18.599976,18.700004 19.700012,17.599998 19.700012,31.099993 16.400024,31.099993z 
                                    M23.799988,13.600001 L23.799988,31.199999 20.5,31.199999 20.5,16.900018z 
                                    M11.5,12.800013 L11.5,31.099993 8.2000122,31.099993 8.2000122,16.1z 
                                    M12.299988,12.400019 L15.599976,15.700006 15.599976,31.099993 12.299988,31.099993z 
                                    M27.900024,9.499996 L27.900024,31.199999 24.599976,31.199999 24.599976,12.800013z 
                                    M28.700012,9.1000021 L29,9.1000021 32,12.100001 32,31.099993 28.700012,31.099993z 
                                    M31.400024,0 L31.099976,7.2000096 28.900024,4.9999983 18.200012,15.700006 
                                    17.900024,15.999993 11.700012,9.8000143 0.70001221,20.80001 0.70001221,15.800012 
                                    11.599976,4.8000167 17.900024,11.100002 26.400024,2.6000052 24.200012,0.4000244z</x:String>
    </ContentPage.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0"
                Margin="15,15,15,5"
                Padding="5"
                StrokeThickness="0"
                StrokeShape="RoundRectangle 12">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackLayout WidthRequest="10" HeightRequest="40" Grid.RowSpan="2"  Margin="-50,8,0,6" Orientation="Vertical"
                     BackgroundColor="#95DB9C" />
                <StackLayout Grid.Row="0"
                             Grid.Column="1"
                             Spacing="3"
                             VerticalOptions="Center"
                             Margin="-40,0,10,0">
                    <Label Text="Corporate AI Funding Patterns Through the Years"
                           FontSize="{OnPlatform Android=18, Default=20, iOS=16}"
                           FontAttributes="Bold"
                           TextColor="#1A1A1A"
                           LineBreakMode="WordWrap"/>
                    <Label Text="{Binding Type, StringFormat='A visual journey through corporate investment trends across years.'}"
                           FontSize="{OnPlatform Default=14,Android=12,iOS=12}"
                           TextColor="#64748B"
                           FontAttributes="None"
                           LineBreakMode="WordWrap"/>
                </StackLayout>
            </Grid>
        </Border>

        <chart:SfCartesianChart Grid.Row="1" x:Name="chart" HorizontalOptions="Fill"
                                VerticalOptions="Fill"
                                Margin="{OnPlatform Android=5,Default=15,iOS=5}">

            <chart:SfCartesianChart.Resources>
                <DataTemplate x:Key="tooltipTemplate">
                    <Label Text="{Binding Item.FormattedValue}"
                           TextColor="White"
                           FontSize="12"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"/>
                </DataTemplate>
            </chart:SfCartesianChart.Resources>

            <chart:SfCartesianChart.XAxes>
                <chart:CategoryAxis LabelPlacement="BetweenTicks">
                    <chart:CategoryAxis.MajorGridLineStyle>
                        <chart:ChartLineStyle StrokeDashArray="2,3"
                                      Stroke="LightGray"
                                      StrokeWidth="1"/>
                    </chart:CategoryAxis.MajorGridLineStyle>
                    <chart:CategoryAxis.Title>
                        <chart:ChartAxisTitle Text="Year"/>
                    </chart:CategoryAxis.Title>
                </chart:CategoryAxis>
            </chart:SfCartesianChart.XAxes>
            
            <chart:SfCartesianChart.YAxes>
                <chart:NumericalAxis x:Name="yAxis" RangePadding="None">
                    <chart:NumericalAxis.MajorGridLineStyle>
                        <chart:ChartLineStyle StrokeDashArray="2,3"
                                      Stroke="LightGray"
                                      StrokeWidth="1"/>
                    </chart:NumericalAxis.MajorGridLineStyle>
                    <chart:NumericalAxis.LabelStyle>
                        <chart:ChartAxisLabelStyle LabelFormat="$0,,,B"/>
                    </chart:NumericalAxis.LabelStyle>
                </chart:NumericalAxis>
            </chart:SfCartesianChart.YAxes>
            
            <chart:ColumnSeries x:Name="series"
                                XBindingPath="Year"
                                YBindingPath="Value"
                                EnableTooltip="True"
                                TooltipTemplate="{StaticResource tooltipTemplate}"
                                ItemsSource="{Binding YearlyBreakdown}"/>
        </chart:SfCartesianChart>
    </Grid>
</ContentPage>
