<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:chart="clr-namespace:Syncfusion.Maui.Toolkit.Charts;assembly=Syncfusion.Maui.Toolkit"
             x:Class="DrilldownMAUIChart.YearlyInvestmentPage">

    <ContentPage.Resources>
        <x:String x:Key="HeaderIconPath">M24,17.000001L24,26.000002 27,26.000002 27,17.000001z M22,15.000001L29,15.000001 29,28.000002 22,28.000002z M6,14.000001L6,26.000002 9,26.000002 9,14.000001z M4,12.000001L11,12.000001 11,28.000002 4,28.000002z M15,4.0000005L15,26 18,26 18,4.0000005z M13,2.0000005L20,2.0000005 20,28 13,28z M0,0L2,0 2,30 32,30 32,32 0,32z</x:String>
    </ContentPage.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0"
                Margin="15,15,15,5"
                Padding="5"
                StrokeThickness="0"
                StrokeShape="RoundRectangle 12">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Row="0"
                        Grid.Column="0"
                        Grid.RowSpan="2"
                        BackgroundColor="#4285F4"
                        StrokeShape="RoundRectangle 10"
                        WidthRequest="45"
                        HeightRequest="45"
                        HorizontalOptions="Center"
                        VerticalOptions="Center"
                        Margin="0,2,0,0">
                    <Path Data="{StaticResource HeaderIconPath}" Fill="#FF000000" Margin="10,5,10,10">
                        <Path.RenderTransform>
                            <TransformGroup>
                                <TransformGroup.Children>
                                    <RotateTransform Angle="0"/>
                                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                                </TransformGroup.Children>
                            </TransformGroup>
                        </Path.RenderTransform>
                    </Path>
                </Border>

                <StackLayout Grid.Row="0"
                             Grid.Column="1"
                             Spacing="3"
                             VerticalOptions="Center"
                             Margin="15,0,10,0">
                    <Label Text="Annual AI Investment Trends"
                           FontSize="{OnPlatform Android=18, Default=20, iOS=16}"
                           FontAttributes="Bold"
                           TextColor="#1A1A1A"
                           LineBreakMode="WordWrap"/>
                    <Label Text="{Binding Type, StringFormat='Year-wise breakdown for {0} (USD, Billions)'}"
                           FontSize="{OnPlatform Android=11, Default=13, iOS=11}"
                           TextColor="#64748B"
                           FontAttributes="None"
                           LineBreakMode="WordWrap"/>
                </StackLayout>
            </Grid>
        </Border>

        <chart:SfCartesianChart Grid.Row="1" x:Name="chart" HorizontalOptions="Fill"
                                VerticalOptions="Fill"
                                Margin="{OnPlatform Android=5,Default=15,iOS=5}">

            <chart:SfCartesianChart.Resources>
                <DataTemplate x:Key="tooltipTemplate">
                    <Label Text="{Binding Item.FormattedValue}"
                           TextColor="White"
                           FontSize="12"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"/>
                </DataTemplate>
            </chart:SfCartesianChart.Resources>
            <chart:SfCartesianChart.XAxes>
                <chart:CategoryAxis LabelPlacement="BetweenTicks">
                    <chart:CategoryAxis.Title>
                        <chart:ChartAxisTitle Text="Year"/>
                    </chart:CategoryAxis.Title>
                </chart:CategoryAxis>
            </chart:SfCartesianChart.XAxes>
            <chart:SfCartesianChart.YAxes>
                <chart:NumericalAxis x:Name="yAxis" RangePadding="None">
                    <chart:NumericalAxis.LabelStyle>
                        <chart:ChartAxisLabelStyle LabelFormat="$0,,,B"/>
                    </chart:NumericalAxis.LabelStyle>
                </chart:NumericalAxis>
            </chart:SfCartesianChart.YAxes>
            <chart:ColumnSeries x:Name="series"
                                XBindingPath="Year"
                                YBindingPath="Value"
                                EnableTooltip="True"
                                TooltipTemplate="{StaticResource tooltipTemplate}"
                                ItemsSource="{Binding YearlyBreakdown}"/>
        </chart:SfCartesianChart>
    </Grid>
</ContentPage>
